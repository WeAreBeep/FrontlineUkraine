<environment include="Development">
    <script src="~/js/jquery-ui.min.js" asp-append-version="true"></script>
    <link href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/themes/black-tie/jquery-ui.css" type="stylesheet" />
</environment>
<environment exclude="Development">
    <script src="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/jquery-ui.min.js"
            asp-fallback-src="~/js/jquery-ui.min.js"
            asp-fallback-test="window.jQuery && window.jQuery.ui"
            asp-append-version="true"
            integrity="sha384-Dziy8F2VlJQLMShA6FHWNul/veM9bCkRUaLqr199K94ntO5QUrLJBEbYegdSkkqX"
            crossorigin="anonymous">
    </script>
    <link href="https://ajax.aspnetcdn.com/ajax/jquery.ui/1.12.1/themes/black-tie/jquery-ui.css" type="stylesheet" />
</environment>


<script>
    $(document).ready(function() {
        $("input[data-posttag]").each(function (idx, el) {
            $(el).autocomplete({
                source: "/posttag-autocomplete",
                select: function( event, ui ) {
                    const { item } = ui;
                    if (el.dataset["addressLineOne"] && $("#" + el.dataset["addressLineOne"]).length) {
                        $("#" + el.dataset["addressLineOne"]).val(item.addressLineOne);
                    }
                    if (el.dataset["addressLineTwo"] && $("#" + el.dataset["addressLineTwo"]).length) {
                        $("#" + el.dataset["addressLineTwo"]).val(item.addressLineTwo);
                    }
                },
            })
        })
    })
</script>